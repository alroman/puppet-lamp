Introduction
This project allows CCLE developers to automatically create a virtual image that is running the same LAMP stack that is being used for our Moodle 2.0 servers to help develop code in a production like environment.

Install VirtualBox
https://www.virtualbox.org/

Install Vagrant by following the guide at this website:
http://vagrantup.com/docs/getting-started/index.html

Check out vagrant/puppet scripts that will be creating CCLE's centos box
* cd ~/Projects
* git clone git://github.com/rlorenzo/puppet-lamp.git
* mv puppet-lamp moodle20

Checkout CCLE 2.0 codebase from Github
* cd  ~/Projects/moodle20
* git clone git@github.com:ucla/moodle.git (if you have ssh keys setup)
* git clone https://<github account>@github.com/ucla/moodle.git (if you want to type in your password)

Running vagrant/puppet scripts to setup CCLE's centos box
* vagrant box add vagrant-centos5.7-64-m2 https://m2dev.ccle.ucla.edu/rex/vagrant/vagrant-centos5.7-64-m2.box
* cd  ~/Projects/moodle20
* vagrant up

Pre-moodle install setup
* Create moodle database
** mysql --user=root --execute='CREATE DATABASE moodle DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;'
* Create moodle user and allow them to access moodle database (replace <PASSWORD> with something)
** mysql --user=root --execute="GRANT ALL PRIVILEGES ON moodle.* TO 'moodle'@'localhost' IDENTIFIED BY '<PASSWORD>'; FLUSH PRIVILEGES;"

Setup moodle
* Go to localhost:8080/moodle and follow setup wizard
* Choose /opt/moodledata for the "Data Directory"
* For database connection "Type" choose MySQLi

Follow post-install setup for UCLA-specific config settings at:
* http://kb.ucla.edu/articles/locally-installing-cclemoodle-ucla-modified-code
** Look for the section called "Add the ucla-specific config settings found in the production version"

